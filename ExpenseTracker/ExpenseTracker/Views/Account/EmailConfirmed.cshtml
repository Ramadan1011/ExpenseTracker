@model ExpenseTracker.Application.Requests.Auth.ResendConfirmationRequest;

@{
    ViewData["Title"] = "Email Confirmation";
    Layout = "~/Views/Shared/_LoginLayout.cshtml";

    var success = ViewData["ErrorMessage"] == null;
}

@if(success)
{
    <div class="confirmation-container">
        <h2>Email Confirmed</h2>
        <p>Thank you! Your email has been successfully confirmed. You can now proceed to login and start using the app.</p>
        <a asp-action="Login" class="btn btn-confirm">Go to Login</a>
        <p class="text-muted">If you're not automatically redirected, click the button above.</p>
    </div>
}
else
{
    <div class="confirmation-container">
        <form method="post" asp-action="ResendConfirmation">
            <ejs-textbox id="email" ejs-for="Email" value="@ViewBag.Email" allowObjectBinding="true" type="hidden"></ejs-textbox>
            <h1 class="mt-5">Email Confirmation Failed</h1>
            <p class="lead text-danger">@ViewData["ErrorMessage"]</p>
            <p>Please try requesting a new confirmation email or contact support if you continue to experience issues.</p>

            <button class="btn btn-primary">
                Resend Confirmation Email
            </button>
        </form>
    </div>
}